# ===================================
# Backend Environment Variables
# ===================================

# Server Configuration
PORT=3001
NODE_ENV=production

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost,http://frontend:3000

# ===================================
# PostgreSQL Database
# ===================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=drilling_data
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres_password

# ===================================
# MongoDB Database
# ===================================
MONGO_URI=mongodb://mongodb:27017/drilling_data

# ===================================
# MQTT Configuration
# ===================================
# MQTT broker URL - READY TO CONNECT
# Format: mqtt://host:port or mqtts://host:port (for TLS)
MQTT_BROKER=mqtt://mqtt:1883

# MQTT topic to subscribe to for PLC drilling data
# This will be provided by your PLC/SCADA system
MQTT_TOPIC=plc/drilling/rop

# Store incoming MQTT data to PostgreSQL (true/false)
# Set to 'true' to persist all MQTT messages to database
STORE_MQTT_DATA=true

# ===================================
# Puppeteer Configuration
# ===================================
# Path to Chromium executable (for Docker)
# Leave empty for local development
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# Skip Chromium download during npm install
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=false

# ===================================
# PLC Data Format (Reference)
# ===================================
# Expected MQTT message format:
# {
#   "depth": 1234.56,                    // Current depth in meters (number)
#   "time": "2024-02-10T12:30:45Z",     // ISO 8601 timestamp (string)
#   "rop": 15.75                         // Rate of Penetration in m/hr (number)
# }
#
# Publishing frequency: 1 Hz (1 sample per second)
# Topic: As specified in MQTT_TOPIC above

# ===================================
# Optional: Development Settings
# ===================================
# Enable detailed logging
DEBUG=false

# Maximum historical data query limit
MAX_QUERY_LIMIT=10000

# Real-time data buffer size (WebSocket)
MAX_REALTIME_BUFFER=1000
